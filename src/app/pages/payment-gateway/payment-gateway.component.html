<div
    class="w-full flex items-center justify-center capitalize container mt-[170px] py-10">
    <form [formGroup]="myForm" (ngSubmit)="onSubmit(selecedPaymentMethod)"
        class="w-full md:w-2/3 rounded-lg">
        <h2 class="text-2xl text-center text-main-800 mb-8">Payment Details</h2>
        <div class="md:px-12 px-4 pb-10">

            <!-- ------------------------------------------------ -->

            @let city = myForm.get('city');
            <!-- city Input -->
            <div class="w-full mb-2 relative">
                <input type="text" id="city" formControlName="city"
                    class="text-black block px-2.5 pb-2.5 pt-4 w-full text-sm bg-transparent rounded-lg border-1 border-main-200 appearance-none focus:outline-none focus:ring-1 focus:ring-main-300 peer"
                    placeholder />
                <label for="city"
                    class="text-main-200 absolute text-sm duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white  px-2 peer-focus:px-2 peer-focus:text-main-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 
                    peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto start-1">
                    city</label>
            </div>
            @if (city?.errors &&
            city?.touched) {
            <div
                class="flex p-4 my-4 text-sm text-red-500 rounded-lg bg-main-000 "
                role="alert">
                <svg class="shrink-0 inline w-4 h-4 me-3 mt-[2px]"
                    aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                    fill="currentColor" viewBox="0 0 20 20">
                    <path
                        d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z" />
                </svg>
                <span class="sr-only">Danger</span>
                <div>
                    <span class="font-medium">Ensure that these requirements are
                        met:</span>
                    <ul class="mt-1.5 list-disc list-inside capitalize">
                        @if (city?.getError('required')) {
                        <li>This Field is Required</li>
                        }
                    </ul>
                </div>
            </div>
            }

            <!-- ------------------------------------------------ -->

            <!-- Phone input -->
            <div class="w-full mb-2 relative">
                @let phone = myForm.get('phone');

                <input type="tel" id="phone"
                    formControlName="phone"
                    class="text-black block px-2.5 pb-2.5 pt-4 w-full text-sm bg-transparent rounded-lg border-1 border-main-200 appearance-none focus:outline-none focus:ring-1 focus:ring-main-300 peer"
                    placeholder />
                <label for="phone"
                    class="text-main-200 absolute text-sm duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white  px-2 peer-focus:px-2 peer-focus:text-main-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 
                    peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto start-1">
                    Phone</label>
            </div>
            @if (phone?.errors &&
            phone?.touched) {
            <div
                class="flex p-4 my-4 text-sm text-red-500 rounded-lg bg-main-000 "
                role="alert">
                <svg class="shrink-0 inline w-4 h-4 me-3 mt-[2px]"
                    aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                    fill="currentColor" viewBox="0 0 20 20">
                    <path
                        d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z" />
                </svg>
                <span class="sr-only">Danger</span>
                <div>
                    <span class="font-medium">Ensure that these requirements are
                        met:</span>
                    <ul class="mt-1.5 list-disc list-inside capitalize">
                        @if (phone?.getError('required')) {
                        <li>This Field is Required</li>
                        }
                        @else if (phone?.getError('pattern')) {
                        <li>Please enter a valid phone number in the format:
                            01XXXXXXXXX.</li>
                        }

                    </ul>
                </div>
            </div>
            }

            <!-- ------------------------------------------------ -->

            <!-- details Input -->
            <div class="w-full mb-2 relative">

                <textarea id="details" formControlName="details"
                    class="text-black block px-2.5 pb-2.5 pt-4 w-full text-sm bg-transparent rounded-lg border-1 border-main-200 appearance-none focus:outline-none focus:ring-1 focus:ring-main-300 peer"
                    placeholder></textarea>
                <label for="details"
                    class="text-main-200 absolute text-sm duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white  px-2 peer-focus:px-2 peer-focus:text-main-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 
                    peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto start-1">
                    details Address</label>
            </div>

            <!-- ------------------------------------------------ -->

            <!-- Buttons -->
            <div class="flex gap-4 justify-center ">
                <button
                    (click)="selecedPaymentMethod = 'online'"
                    [disabled]="myForm.invalid || myForm.pristine"
                    class=" cursor-pointer
              md:w-1/3
              w-1/2
              px-2
              py-2
              mt-8
              btn-main
              disabled
              text-sm
              md:text-base
            ">
                    Online Payment <i class="ms-2 fas fa-credit-card"></i>

                </button>
                <button
                    (click)="selecedPaymentMethod = 'cash'"
                    [disabled]="myForm.invalid || myForm.pristine"
                    class=" cursor-pointer
                    md:w-1/3
                    w-1/2
                    px-2
                    py-2
                    mt-8
                    btn-main
                    disabled
                    text-sm
                    md:text-base
            ">
                    cash on delivery <i class="ms-2 fas fa-money-bills"></i>
                </button>
            </div>

        </div>
    </form>
</div>